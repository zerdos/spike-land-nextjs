---
number: 537
title: "[Story] ORB-058: Implement agency billing"
state: open
labels: ["phase:4-scale", "layer:0-identity", "type:story", "orbit"]
created_at: 2026-01-04T13:59:54Z
updated_at: 2026-01-04T13:59:54Z
---

# [Story] ORB-058: Implement agency billing

## Parent Epic
Parent: #519 (Agency Features)

## Description
Build comprehensive agency billing system with per-workspace billing, usage-based pricing, automated invoice generation, and payment collection capabilities.

## Acceptance Criteria
- [ ] Per-workspace billing with separate invoices and payment methods
- [ ] Usage-based pricing tracking posts, API calls, storage, and AI generations
- [ ] Automated invoice generation with customizable billing cycles
- [ ] Payment collection via Stripe with support for cards and bank transfers
- [ ] Billing dashboard with usage forecasting and cost allocation reports

## Technical Notes
- Integrate with Stripe Billing for subscription and usage-based pricing
- Implement usage metering with daily aggregation to Stripe Meter API
- Create billing webhooks for failed payments with automatic retry and notification
