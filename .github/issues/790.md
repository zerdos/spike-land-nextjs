---
number: 790
title: "Test: Add coverage for Scout and Inbox modules"
state: open
labels: ["agent-created", "p1", "tech-debt"]
created_at: 2026-01-19T21:02:55Z
updated_at: 2026-01-19T21:02:55Z
---

# Test: Add coverage for Scout and Inbox modules

## User Request
Add test coverage for untested Scout and Inbox modules to achieve 100% code coverage.

## Investigation Findings
- 67% of Scout/Inbox files lack tests
- Files needing tests include:
  - src/lib/scout/competitor-tracker.ts
  - src/lib/scout/competitor-analyzer.ts
  - src/lib/scout/topic-monitor.ts
  - src/lib/inbox/collectors/twitter-collector.ts
  - src/lib/inbox/collectors/facebook-collector.ts
  - src/lib/inbox/collectors/instagram-collector.ts

## Acceptance Criteria
- [ ] competitor-tracker.test.ts created with full coverage
- [ ] competitor-analyzer.test.ts created with full coverage
- [ ] topic-monitor.test.ts created with full coverage
- [ ] All tests follow existing Vitest + Prisma mocking patterns
- [ ] Tests cover happy path, error handling, and edge cases
- [ ] All tests pass with 100% coverage for these modules

## Technical Approach
1. Read existing test pattern from src/lib/scout/suggestion-manager.test.ts
2. Analyze the modules to understand their public APIs
3. Create comprehensive test files using Vitest with Prisma mocks
4. Verify coverage with yarn test:coverage

## Files Expected to Change
- src/lib/scout/competitor-tracker.test.ts (new)
- src/lib/scout/competitor-analyzer.test.ts (new)
- src/lib/scout/topic-monitor.test.ts (new)

## Out of Scope
- Inbox collector tests (twitter, facebook, instagram) - separate ticket recommended
- Refactoring existing modules
- Adding new features to Scout/Inbox modules
